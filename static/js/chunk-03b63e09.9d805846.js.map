{"version":3,"sources":["webpack:///./src/views/Login.vue?7619","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","icon","id","userInfo","username","type","required","autocomplete","handleLogin","password","name","components","BaseIcon","data","validationError","computed","mounted","this","methods","currentUserApiKey","response","user","generator","img","generateRandomAvatar","$store","dispatch","profile","pic","pic_full","pic_cover","description","nickname","website","account","followingCount","following","length","followerCount","followers","$router","push","$notification","message","validateForm","render"],"mappings":"2IAAA,W,4DCCOA,MAAM,S,GACJA,MAAM,c,EAGX,eAEM,OAFDA,MAAM,gBAAc,CACvB,eAA0B,UAAtB,uB,MAEDA,MAAM,c,GACJA,MAAM,mB,EAST,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,GAE3BD,MAAM,mB,EAST,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,EAQhC,eAMM,OANDD,MAAM,gBAAc,CACvB,eAII,UAHF,eAA6B,YAAvB,oBACN,eAA+B,QAAzBA,MAAM,OAAM,KAClB,eAAgC,YAA1B,2B,qFAxCd,eA4CM,MA5CN,EA4CM,CA3CJ,eAEM,MAFN,EAEM,CADJ,eAA4B,GAAjBE,KAAK,cAElB,EAGA,eAoCM,MApCN,EAoCM,CAnCJ,eAUM,MAVN,EAUM,C,eATJ,eAOC,SANCC,GAAG,W,qDACM,EAAAC,SAASC,SAAQ,IAC1BC,KAAK,OACLC,SAAA,GACAC,aAAa,MACZ,WAAQ,8CAAQ,EAAAC,aAAA,EAAAA,YAAA,qBAAW,a,mBAJnB,EAAAL,SAASC,YAMpB,IAEF,eAUM,MAVN,EAUM,C,eATJ,eAOC,SANCF,GAAG,W,qDACM,EAAAC,SAASM,SAAQ,IAC1BJ,KAAK,WACLC,SAAA,GACAC,aAAa,MACZ,WAAQ,8CAAQ,EAAAC,aAAA,EAAAA,YAAA,qBAAW,a,mBAJnB,EAAAL,SAASM,YAMpB,IAEF,eAKM,OAJJV,MAAM,eACL,QAAK,8BAAE,EAAAS,aAAA,EAAAA,YAAA,sBACT,YAGD,M,kGAkBS,GACbE,KAAK,YACLC,WAAY,CACVC,WAAA,MAEFC,KAAM,WACJ,MAAO,CACLV,SAAU,CACRC,SAAU,YACVK,SAAU,YAEZK,gBAAiB,CACfV,UAAU,EACVK,UAAU,KAIhBM,SAAU,kBACL,eAAS,CAAC,uBAEfC,QApBa,WAqBXC,KAAKT,eAEPU,QAAQ,CACNV,YAAa,WAAF,8CAAE,uIAEc,eAAMS,KAAKd,SAAUc,KAAKE,mBAFxC,UAEHC,EAFG,OAILA,EAASP,KAAKQ,KAJT,wDAQDA,EAASD,EAASP,KAAlBQ,KAEFC,EAAY,IAAI,qBAChBC,EAAMD,EAAUE,qBAAqBH,EAAKnB,IAEhDe,KAAKQ,OAAOC,SAAS,eACnB,CACExB,GAAImB,EAAKnB,GACTE,SAAUiB,EAAKX,KACfiB,QAAS,CACPC,IAAKL,EACLM,SAAUN,EACVO,UAAW,gFACXC,YAAa,OACbC,SAAUX,EAAKX,KACfA,KAAMW,EAAKX,KACXuB,QAAS,uBAEXC,QAAS,CACPC,eAAc,OAAEd,QAAF,IAAEA,GAAF,UAAEA,EAAMe,iBAAR,aAAE,EAAiBC,OACjCC,cAAa,OAAEjB,QAAF,IAAEA,GAAF,UAAEA,EAAMkB,iBAAR,aAAE,EAAiBF,UA5B7B,kBA+BFpB,KAAKuB,QAAQC,KAAK,MA/BhB,qCAiCTxB,KAAKyB,cAAc,CACjBrC,KAAM,QACNsC,QAAS,+BAnCF,0DAAF,qDAAE,GAuCbC,aAAc,WACZ3B,KAAKH,gBAAgBV,UAAW,EAChCa,KAAKH,gBAAgBL,UAAW,EAC7BQ,KAAKd,SAASC,SAASiC,OAAS,IACjCpB,KAAKH,gBAAgBV,UAAW,GAE/Ba,KAAKd,SAASM,SAAS4B,OAAS,IACjCpB,KAAKH,gBAAgBL,UAAW,M,UCxHxC,EAAOoC,OAASA,EAED","file":"js/chunk-03b63e09.9d805846.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=2ba98b4a&lang=scss\"","<template>\n  <div class=\"login\">\n    <div class=\"login-icon\">\n      <base-icon icon=\"twitter\" />\n    </div>\n    <div class=\"login-header\">\n      <h2>Log in to Twitter</h2>\n    </div>\n    <div class=\"login-form\">\n      <div class=\"login-form-item\">\n        <input\n          id=\"username\"\n          v-model=\"userInfo.username\"\n          type=\"text\"\n          required\n          autocomplete=\"off\"\n          @keypress.enter=\"handleLogin\"\n        >\n        <label for=\"username\">Username</label>\n      </div>\n      <div class=\"login-form-item\">\n        <input\n          id=\"password\"\n          v-model=\"userInfo.password\"\n          type=\"password\"\n          required\n          autocomplete=\"off\"\n          @keypress.enter=\"handleLogin\"\n        >\n        <label for=\"password\">Password</label>\n      </div>\n      <div\n        class=\"login-submit\"\n        @click=\"handleLogin\"\n      >\n        Log in\n      </div>\n      <div class=\"login-footer\">\n        <p>\n          <span>Forgot password?</span>\n          <span class=\"dot\">&#183;</span>\n          <span>Sign up for Twitter</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {login} from '@/services/api'\nimport BaseIcon from '@/components/BaseIcon'\nimport { AvatarGenerator } from 'random-avatar-generator';\nimport { mapState } from 'vuex';\n\n\nexport default {\n  name:'LoginView',\n  components: {\n    BaseIcon\n  },\n  data: function(){\n    return {\n      userInfo: {\n        username: 'kaanersoy',\n        password: 'password'\n      },\n      validationError: {\n        username: false,\n        password: false\n      }\n    }\n  },\n  computed: {\n    ...mapState(['currentUserApiKey']),\n  },\n  mounted() {\n    this.handleLogin();\n  },\n  methods:{\n    handleLogin: async function(){\n      try{\n        const response = await login(this.userInfo, this.currentUserApiKey);\n      \n        if(!response.data.user){\n          return\n        }\n\n        const { user } = response.data;\n\n        const generator = new AvatarGenerator();\n        const img = generator.generateRandomAvatar(user.id);\n  \n        this.$store.dispatch('setLoginInfo',\n          {\n            id: user.id,\n            username: user.name,\n            profile: {\n              pic: img,\n              pic_full: img,\n              pic_cover: 'https://pbs.twimg.com/profile_banners/1142171408916762624/1605471218/1500x500',\n              description: 'ðŸ˜ŽðŸ˜Ž',\n              nickname: user.name,\n              name: user.name,\n              website: 'https://cooldev.com'\n            },\n            account: {\n              followingCount: user?.following?.length,\n              followerCount: user?.followers?.length\n            }\n          })\n        return this.$router.push('/')\n      }catch(err) {\n        this.$notification({\n          type: 'error',\n          message: 'Failed when authentication'\n        })\n      }\n    },\n    validateForm: function(){\n      this.validationError.username = false\n      this.validationError.password = false\n      if(this.userInfo.username.length < 5){\n        this.validationError.username = true\n      }\n      if(this.userInfo.password.length < 5){\n        this.validationError.password = true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/theme/colors.scss';\n@import '@/assets/variables.scss';\n\n.login{\n  width: 400px;\n  margin: 0 auto;\n  margin-top: 20px;\n  &-icon{\n    width: 3rem;\n    svg{\n      width: 100%;\n      fill: $color-blue;\n    }\n  }\n  &-header{\n    h2{\n      font-size: 2rem;\n      font-weight: black;\n      color: #fff;\n    }\n  }\n  &-form{\n    margin-top: 2.5rem;\n    & > * {\n      margin-top: 2rem;\n    }\n    &-item{\n      position: relative;\n      & + .login-form-item{\n        margin-top: 2.2rem;\n      }\n      input{\n        display: block;\n        width: 100%;\n        font-size: 1.2rem;\n        background-color: transparent;\n        color: #fff;\n        font-weight: bold;\n        padding: .8rem 4px;\n        border: 1px solid rgba($color: $color-dark-gray, $alpha: 0.3);\n        &:focus{\n          outline: none;\n        }\n        &:focus, &:valid{\n          & ~ label{\n            transform: translate(0, -3rem) scale(0.85);\n            left: 0px;\n          }\n        }\n      }\n      label{\n        position: absolute;\n        left: 5px;\n        top: 50%;\n        color: #fff;\n        transform: translate(0, -50%);\n        transition: 200ms ease;\n        user-select: none;\n        pointer-events: none;\n        -webkit-user-select: none;\n      }\n    }\n  }\n  &-submit{\n    background-color: $color-blue;\n    font-weight: bold;\n    text-align: center;\n    border-radius: 999px;\n    padding: 1rem;\n    color: #fff;\n    cursor: pointer;\n  }\n  &-footer{\n    text-align: center;\n    color: $color-blue;\n    span{\n      &.dot{\n        margin: 0 8px;\n      }\n    }\n  }\n}\n@media screen and (max-width: $phone) {\n  .login{\n    width: 80%;\n  }\n}\n\n</style>","import { render } from \"./Login.vue?vue&type=template&id=2ba98b4a\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=2ba98b4a&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}